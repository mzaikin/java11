<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>10.2.&nbsp; Develop code that handles multiple Exception types in a single catch block</title><link rel="stylesheet" type="text/css" href="ocpjd11-upgrade-guide.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="Exam 1Z0-817: Upgrade OCP Java 6, 7 &amp; 8 to Java SE 11 Developer Study Guide"><link rel="up" href="ch10.html" title="Chapter&nbsp;10.&nbsp;Language Enhancements"><link rel="prev" href="ch10.html" title="Chapter&nbsp;10.&nbsp;Language Enhancements"><link rel="next" href="bi01.html" title="Bibliography"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">10.2.&nbsp;
					Develop code that handles multiple Exception types in a single catch block
				</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch10.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;10.&nbsp;Language Enhancements</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="bi01.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="c10s2"></a>10.2.&nbsp;
					Develop code that handles multiple Exception types in a single catch block
				</h2></div></div></div>
				
				<div class="note" style="margin-left: 0.1in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="81px"><img alt="[Note]" src="images.admon/note.gif"></td><th align="left"></th></tr><tr><td align="left" valign="top">
					<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
							<p>
								<a class="xref" href="bi01.html#EXCEPTIONS_TECHNOTE" title="Catching Multiple Exception Types and Rethrowing Exceptions with Improved Type Checking">[EXCEPTIONS_TECHNOTE]</a> Handling More Than One Type of Exception
							</p>
						</li></ul></div>
				</td></tr></table></div>
				<p>
					Starting from Java 7.0, a single <code class="code">catch</code> block can handle more than one type of exception. This feature can reduce 
					code duplication and lessen the temptation to catch an overly broad exception.
				</p>
				<p>
					Consider the following example, which contains duplicate code in each of the <code class="code">catch</code> blocks:
					</p><pre class="programlisting">
try {
    // ...
} catch (IOException ex) {
    logger.log(ex);
    throw ex;
} catch (SQLException ex) {
    logger.log(ex);
    throw ex;
}
					</pre><p>
				</p>
				<p>
					In releases prior to Java 7.0, it is difficult to create a common method to eliminate the duplicated code because the variable
					<code class="code">ex</code> has different types.
				</p>
				<p>
					The following example, which is valid in Java 7.0, eliminates the duplicated code:
					</p><pre class="programlisting">
try {
    // ...
} catch (IOException | SQLException ex) {
    logger.log(ex);
    throw ex;
}
					</pre><p>
				</p>
				<p>
					The <code class="code">catch</code> clause specifies the types of exceptions that the block can handle, and each exception type is separated
					with a vertical bar (<code class="code">|</code>).
				</p>
				<p>
					NOTE: An exception can not be a subtype or supertype of one of the <code class="code">catch</code> clause's exception parameters, 
					otherwise code will not compile:
					</p><pre class="programlisting">
try (DataOutputStream out = new DataOutputStream(new FileOutputStream("data"))) {
    out.writeUTF("Hello");
} catch (<span class="bold"><strong>FileNotFoundException | IOException  e</strong></span>) { // COMPILATION FAILS !!!
    // ...
}
					</pre><p>
					</p><pre class="programlisting">
public class <span class="bold"><strong>FileNotFoundException extends IOException</strong></span> {
    // ...
}
					</pre><p>
				</p>
				<p>
					NOTE: If a <code class="code">catch</code> block handles more than one exception type, then the <code class="code">catch</code> parameter 
					is <span class="bold"><strong>implicitly</strong></span>	<code class="code">final</code>. In this example, the <code class="code">catch</code> 
					parameter <code class="code">ex</code> is <code class="code">final</code> and therefore you cannot assign any values to it within
					the <code class="code">catch</code> block:
					</p><pre class="programlisting">
try (DataOutputStream out = new DataOutputStream(new FileOutputStream("data"))) {
    out.writeUTF("Hello");
} catch (RuntimeException | IOException  e) {
    <span class="bold"><strong>e = new Exception();</strong></span> // COMPILATION FAILS !!! (The e is final)
}
					</pre><p>
				</p>
				<p>
					Bytecode generated by compiling a <code class="code">catch</code> block that handles multiple exception types will be smaller (and thus superior) 
					than compiling many <code class="code">catch</code> blocks that handle only one exception type each. A <code class="code">catch</code> block that handles 
					multiple exception types creates no	duplication in the bytecode generated by the compiler; the bytecode has no replication of 
					exception handlers.
				</p>
			</div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch10.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch10.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="bi01.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;10.&nbsp;Language Enhancements&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Bibliography</td></tr></table></div></body></html>